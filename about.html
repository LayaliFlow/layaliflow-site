<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LayaliFlow — About Us</title>
  <meta name="description" content="Learn more about LayaliFlow: our story, design philosophy, and what modest activewear means to us." />

  <!-- Open Graph -->
  <meta property="og:title" content="LayaliFlow — About Us" />
  <meta property="og:description" content="Learn more about LayaliFlow: our story, design philosophy, and what modest activewear means to us." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://layaliflow.github.io/layaliflow-site/about.html" />
  <meta property="og:image" content="https://layaliflow.github.io/layaliflow-site/images/crescent_logo.png" />

  <link rel="icon" type="image/png" href="images/crescent_logo.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- NAV -->
  <nav class="nav" role="navigation" aria-label="Primary">
    <div class="container inner">
      <a class="brand" href="index.html#home" aria-label="LayaliFlow Home">
        <div class="logo">
          <img src="images/crescent_logo.png" alt="LayaliFlow Logo">
        </div>
        <span>LayaliFlow</span>
      </a>

      <div class="nav-actions" role="group" aria-label="Primary actions">
        <form class="search" role="search" aria-label="Site search" action="search.html" method="get">
          <input id="site-search" name="q" type="search" placeholder="Search pieces…" aria-label="Search featured pieces">
        </form>

        <!-- Icon buttons -->
        <button class="icon-btn" id="shopBtn" aria-label="Shop" aria-haspopup="dialog" aria-controls="shopDrawer" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M6 2l1.5 4h9L18 2H6zM3 6h18v14H3V6z"/>
          </svg>
        </button>

        <button class="icon-btn" id="cartBtn" aria-label="Cart" aria-haspopup="dialog" aria-controls="cartDrawer" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="9" cy="21" r="1"/>
            <circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l3.6 7.59L5.25 14H19a1 1 0 0 0 .96-.74L23 4H6"/>
          </svg>
          <span class="cart-badge" id="cartBadge">0</span>
        </button>

        <button class="icon-btn" id="menuBtn" aria-label="Menu" aria-haspopup="dialog" aria-controls="menuDrawer" aria-expanded="false">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M3 6h18M3 12h18M3 18h18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="container section">
    <h1>About LayaliFlow</h1>
    <p class="sub">Born in Montreal, inspired by movement and faith.</p>

    <div class="two-col" style="align-items:start">
      <div>
        <p>
          LayaliFlow blends modest activewear with elegant lines and functional comfort.
          We design pieces that move with you—breathable, opaque, and thoughtfully
          cut—so you feel composed in every rep.
        </p>
        <ul>
          <li>Breathable, quick‑dry fabrics</li>
          <li>Opaque, squat‑proof leggings & skirt‑pants</li>
          <li>Timeless palettes with soft gold accents</li>
        </ul>
        <p>
          Our approach is simple: refine the silhouette, elevate the fabric, and
          keep details intentional—from seam placement to pocket depth—so coverage
          feels effortless, not restrictive.
        </p>
      </div>
      <div class="card" style="padding:16px">
        <h3 style="margin-top:0">What modest means to us</h3>
        <p class="sub">Comfortable, confident, and practical for real training.</p>
        <p>
          Modesty is personal. We aim to offer options—longer lengths, looser drape,
          and layering pieces—so you can choose the coverage that fits your routine.
        </p>
      </div>
    </div>

    <h2 style="margin-top:32px">Materials & care</h2>
    <p>
      We’re prototyping technical blends that are soft against the skin, resilient
      to sweat and repeated wash, and maintain drape without cling. Care guides will
      be published before launch to help your pieces last.
    </p>
  </main>

  <!-- DRAWERS -->
  <div class="drawer-backdrop" id="drawerBackdrop" hidden></div>

  <aside class="drawer" id="menuDrawer" role="dialog" aria-modal="true" aria-labelledby="drawerTitle" hidden>
    <header class="drawer-header">
      <h2 id="drawerTitle">Menu</h2>
      <button class="drawer-close" data-drawer-close aria-label="Close menu">&times;</button>
    </header>
    <nav class="drawer-nav" aria-label="Secondary">
      <a href="about.html">About</a>
      <a href="index.html#faq">FAQ</a>
      <a href="privacy.html">Privacy</a>
      <hr>
      <a href="account.html">Account details</a>
      <a href="signin.html">Sign in</a>
      <a href="settings.html">Settings</a>
    </nav>
  </aside>

  <aside class="drawer" id="shopDrawer" role="dialog" aria-modal="true" aria-labelledby="shopDrawerTitle" hidden>
    <header class="drawer-header">
      <h2 id="shopDrawerTitle">Shop</h2>
      <button class="drawer-close" data-drawer-close aria-label="Close shop">&times;</button>
    </header>
    <nav class="drawer-nav" aria-label="Shop categories">
      <details>
        <summary>Tops</summary>
        <div class="drawer-links">
          <a href="hoodie.html">Turtleneck Hoodie</a>
          <a href="long-sleeve-top.html">Long‑sleeve Top</a>
        </div>
      </details>
      <details>
        <summary>Bottoms</summary>
        <div class="drawer-links">
          <a href="skirt-pants.html">A‑Line Skirt‑Pants</a>
          <a href="oversized-joggers.html">Oversized Joggers</a>
        </div>
      </details>
      <details>
        <summary>Accessories</summary>
        <div class="drawer-links">
          <a href="#">Coming soon</a>
        </div>
      </details>
      <hr>
      <a href="lookbook.html">All products</a>
      <a href="search.html?q=new">New arrivals</a>
      <a href="search.html?q=sale">Sale</a>
    </nav>
  </aside>

  <!-- CART drawer (matches index trimmed version) -->
  <aside class="drawer" id="cartDrawer" role="dialog" aria-modal="true" aria-labelledby="cartDrawerTitle" hidden>
    <header class="drawer-header">
      <h2 id="cartDrawerTitle">Your cart</h2>
      <button class="drawer-close" data-drawer-close aria-label="Close cart">&times;</button>
    </header>

    <div class="cart-body">
      <!-- Empty state -->
      <div class="cart-empty" id="cartEmpty" hidden>
        <div class="bag-illus" aria-hidden="true">
					<img src="images/shopping-bag.png" alt="" />
				</div>
        <h3>Your cart is empty</h3>
        <p class="sub">There are no products in your cart</p>
        <a class="btn-primary cart-cta" href="lookbook.html">Shop all products</a>
        <a class="muted-link cart-login" href="signin.html">Sign in to your account</a>
      </div>

      <!-- Populated state -->
      <div class="cart-has-items" id="cartHasItems" hidden>
        <ul class="cart-list" id="cartList" aria-label="Cart items"></ul>

        <div class="cart-summary">
          <div class="cart-subline">
            <span>Subtotal</span>
            <strong id="cartSubtotal">$0.00</strong>
          </div>
          <p class="muted">Taxes and shipping calculated at checkout.</p>

          <!-- Only checkout here -->
          <div class="cart-cta">
            <button id="checkoutBtn" class="btn-primary" disabled>Checkout</button>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container" style="display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap">
      <small>© <span id="year"></span> LayaliFlow. All rights reserved.</small>
      <div style="display:flex;gap:14px">
        <a href="https://www.instagram.com/layali.flow/" target="_blank" rel="noreferrer" aria-label="Instagram">Instagram</a>
        <a href="mailto:flow.layali@gmail.com?subject=Inquiry%20from%20LayaliFlow%20Website" rel="noreferrer" aria-label="Email">flow.layali@gmail.com</a>
        <a href="privacy.html" aria-label="Privacy">Privacy</a>
      </div>
    </div>
  </footer>

  <script>
  (() => {
    // Year
    const y = document.getElementById('year');
    if (y) y.textContent = new Date().getFullYear();

    /* =========================
      DRAWERS (menu / shop / cart)
    ========================== */
    const backdrop = document.getElementById('drawerBackdrop');
    const drawers = {
      menu: { button: document.getElementById('menuBtn'),  panel: document.getElementById('menuDrawer') },
      shop: { button: document.getElementById('shopBtn'),  panel: document.getElementById('shopDrawer') },
      cart: { button: document.getElementById('cartBtn'),  panel: document.getElementById('cartDrawer') }
    };

    function openDrawer(key) {
      const slot = drawers[key];
      if (!slot?.panel) return;

      // Close any open drawer first
      Object.values(drawers).forEach(({ panel }) => panel?.removeAttribute('open'));

      // Reveal + animate current
      slot.panel.hidden = false;
      backdrop.hidden = false;
      requestAnimationFrame(() => slot.panel.setAttribute('open',''));
      slot.button?.setAttribute('aria-expanded','true');

      // Focus first focusable
      const first = slot.panel.querySelector('a, button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
      setTimeout(() => (first ? first.focus() : slot.panel.querySelector('[data-drawer-close]')?.focus()), 10);

      if (key === 'cart') renderCart(); // refresh cart when opening
      document.body.classList.add('drawer-open'); // lock page scroll
    }

    function closeAll() {
      Object.values(drawers).forEach(({ button, panel }) => {
        if (!panel) return;
        panel.removeAttribute('open');
        button?.setAttribute('aria-expanded','false');
        setTimeout(() => { panel.hidden = true; }, 200);
      });
      backdrop.hidden = true;
      document.body.classList.remove('drawer-open');
    }

    drawers.menu.button?.addEventListener('click', () => openDrawer('menu'));
    drawers.shop.button?.addEventListener('click', () => openDrawer('shop'));
    drawers.cart.button?.addEventListener('click', () => openDrawer('cart'));
    backdrop?.addEventListener('click', closeAll);
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeAll(); });
    document.querySelectorAll('[data-drawer-close]').forEach(btn => btn.addEventListener('click', closeAll));
    document.querySelectorAll('.drawer a').forEach(a => a.addEventListener('click', closeAll));

    /* =========================
      MINI‑CART
    ========================== */
    const CART_KEY   = 'lf_cart';
    const badge      = document.getElementById('cartBadge');
    const listEl     = document.getElementById('cartList');
    const emptyEl    = document.getElementById('cartEmpty');
    const hasEl      = document.getElementById('cartHasItems');
    const subtotalEl = document.getElementById('cartSubtotal');
    const checkoutBtn= document.getElementById('checkoutBtn');

    const getCart = () => {
      try { return JSON.parse(localStorage.getItem(CART_KEY)) || []; }
      catch { return []; }
    };

    const setCart = (items) => {
      localStorage.setItem(CART_KEY, JSON.stringify(items));
      updateBadge(items);
    };

    const updateBadge = (items = getCart()) => {
      const count = items.reduce((n, it) => n + (it.qty || 0), 0);
      if (badge) badge.textContent = count;
    };

    const money = (n) =>
      new Intl.NumberFormat(undefined, { style: 'currency', currency: 'CAD' }).format(n || 0);

    function renderCart() {
      const items = getCart();
      const hasItems = items.length > 0;

      // Toggle empty vs has‑items sections (mutually exclusive)
      if (emptyEl && hasEl) {
        if (hasItems) {
          emptyEl.setAttribute('hidden', '');
          hasEl.removeAttribute('hidden');
        } else {
          hasEl.setAttribute('hidden', '');
          emptyEl.removeAttribute('hidden');
          if (checkoutBtn) checkoutBtn.disabled = true;
        }
      }
      if (!hasItems) return;

      // Build list
      if (listEl) listEl.innerHTML = '';
      let subtotal = 0;

      items.forEach((it, idx) => {
        const price = Number(it.price || 0);
        const qty   = Number(it.qty || 1);
        subtotal += price * qty;

        const li = document.createElement('li');
        li.className = 'cart-item';
        li.innerHTML = `
          <div class="cart-thumb">${it.img ? `<img src="${it.img}" alt="">` : ''}</div>
          <div class="cart-info">
            <div class="title">${it.title || 'Item'}</div>
            <div class="meta">${[it.color, it.size].filter(Boolean).join(' • ')}</div>
            <div class="cart-qty">
              <button class="qty-btn" data-act="dec" data-i="${idx}" aria-label="Decrease quantity">−</button>
              <span aria-live="polite">${qty}</span>
              <button class="qty-btn" data-act="inc" data-i="${idx}" aria-label="Increase quantity">+</button>
              <button class="remove-btn" data-act="remove" data-i="${idx}">Remove</button>
            </div>
          </div>
          <div style="align-self:center; font-weight:600;">${money(price * qty)}</div>
        `;
        listEl?.appendChild(li);
      });

      if (subtotalEl)  subtotalEl.textContent = money(subtotal);
      if (checkoutBtn) checkoutBtn.disabled  = subtotal <= 0;
    }

    // Single delegated handler
    if (listEl) {
      listEl.onclick = (e) => {
        const btn = e.target.closest('[data-act]');
        if (!btn) return;

        const i   = Number(btn.getAttribute('data-i'));
        const act = btn.getAttribute('data-act');
        const cur = getCart();
        const item = cur[i];
        if (!item) return;

        if (act === 'inc') item.qty = (item.qty || 1) + 1;
        if (act === 'dec') item.qty = Math.max(1, (item.qty || 1) - 1);
        if (act === 'remove') cur.splice(i, 1);

        setCart(cur);
        renderCart();
      };
    }

    // Expose helper so product pages can add items
    // window.addToCart({id, title, price, img, color, size, qty:1})
    window.addToCart = (item) => {
      const cur = getCart();
      const key = (v) => [v.id, v.color, v.size].join('|');
      const k   = key(item);
      const found = cur.find(x => key(x) === k);

      if (found) found.qty = (found.qty || 1) + (item.qty || 1);
      else cur.push({ ...item, qty: item.qty || 1 });

      setCart(cur);
      openDrawer('cart');
      renderCart();
    };

    // Initial sync on page load
    updateBadge();
    renderCart();
  })();
  </script>
</body>
</html>
