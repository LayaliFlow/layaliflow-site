<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LayaliFlow ‚Äî Lookbook</title>
  <meta name="description" content="Browse all LayaliFlow pieces by category: tops, bottoms, and more." />

  <!-- Open Graph -->
  <meta property="og:title" content="LayaliFlow ‚Äî Lookbook" />
  <meta property="og:description" content="Explore all products: Turtleneck Hoodie, Long‚Äësleeve Top, Oversized Joggers, and A‚ÄëLine Skirt‚ÄëPants." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://layaliflow.github.io/layaliflow-site/lookbook.html" />
  <meta property="og:image" content="https://layaliflow.github.io/layaliflow-site/images/crescent_logo.png" />

  <link rel="icon" type="image/png" href="images/crescent_logo.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- NAV -->
  <nav class="nav" role="navigation" aria-label="Primary">
    <div class="container inner">
      <a class="brand" href="index.html#home" aria-label="LayaliFlow Home">
        <div class="logo"><img src="images/crescent_logo.png" alt="LayaliFlow Logo"></div>
        <span>LayaliFlow</span>
      </a>

      <div class="nav-actions" role="group" aria-label="Primary actions">
        <form class="search" role="search" aria-label="Site search" action="search.html" method="get">
          <input id="site-search" name="q" type="search" placeholder="Search pieces‚Ä¶" aria-label="Search featured pieces">
        </form>

        <button class="icon-btn" id="shopBtn" aria-label="Shop" aria-haspopup="dialog" aria-controls="shopDrawer" aria-expanded="false">
          <!-- Bag -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M6 2l1.5 4h9L18 2H6zM3 6h18v14H3V6z"/>
          </svg>
        </button>

        <button class="icon-btn" id="cartBtn" aria-label="Cart" aria-haspopup="dialog" aria-controls="cartDrawer" aria-expanded="false">
          <!-- Cart icon -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="9" cy="21" r="1"/>
            <circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l3.6 7.59L5.25 14H19a1 1 0 0 0 .96-.74L23 4H6"/>
          </svg>
          <span class="cart-badge">0</span>
        </button>

        <button class="icon-btn" id="menuBtn" aria-label="Menu" aria-haspopup="dialog" aria-controls="menuDrawer" aria-expanded="false">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M3 6h18M3 12h18M3 18h18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <main class="section">
    <div class="container">
      <h1 style="margin-bottom:8px">All Products</h1>
      <p class="sub">Browse everything ‚Äî filter by category below.</p>

      <!-- Filter pills -->
      <div id="filters" style="display:flex;gap:10px;flex-wrap:wrap;margin:16px 0 24px">
        <button class="pill" data-cat="all">All</button>
        <button class="pill" data-cat="tops">Tops</button>
        <button class="pill" data-cat="bottoms">Bottoms</button>
        <button class="pill" data-cat="accessories">Accessories</button>
      </div>

      <!-- Sections rendered by JS -->
      <div id="catalog-grid" class="grid" role="list"></div>

      <div id="empty" style="display:none;margin-top:20px">
        <p>No items in this category.</p>
      </div>
    </div>
  </main>

  <!-- DRAWERS (same as other pages) -->
  <div class="drawer-backdrop" id="drawerBackdrop" hidden></div>

  <aside class="drawer" id="menuDrawer" role="dialog" aria-modal="true" aria-labelledby="drawerTitle" hidden>
    <header class="drawer-header">
      <h2 id="drawerTitle">Menu</h2>
      <button class="drawer-close" data-drawer-close aria-label="Close menu">&times;</button>
    </header>
    <nav class="drawer-nav" aria-label="Secondary">
      <a href="about.html">About</a>
      <a href="index.html#faq">FAQ</a>
      <a href="privacy.html">Privacy</a>
      <hr>
      <a href="account.html">Account details</a>
      <a href="signin.html">Sign in</a>
      <a href="settings.html">Settings</a>
    </nav>
  </aside>

  <aside class="drawer" id="shopDrawer" role="dialog" aria-modal="true" aria-labelledby="shopDrawerTitle" hidden>
    <header class="drawer-header">
      <h2 id="shopDrawerTitle">Shop</h2>
      <button class="drawer-close" data-drawer-close aria-label="Close shop">&times;</button>
    </header>
    <nav class="drawer-nav" aria-label="Shop categories">
      <details>
        <summary>Tops</summary>
        <div class="drawer-links">
          <a href="hoodie.html">Turtleneck Hoodie</a>
          <a href="long-sleeve-top.html">Long‚Äësleeve Top</a>
        </div>
      </details>
      <details>
        <summary>Bottoms</summary>
        <div class="drawer-links">
          <a href="skirt-pants.html">A‚ÄëLine Skirt‚ÄëPants</a>
          <a href="oversized-joggers.html">Oversized Joggers</a>
        </div>
      </details>
      <details>
        <summary>Accessories</summary>
        <div class="drawer-links">
          <a href="#">Coming soon</a>
        </div>
      </details>
      <hr>
      <a href="lookbook.html">All products</a>
      <a href="search.html?q=new">New arrivals</a>
      <a href="search.html?q=sale">Sale</a>
    </nav>
  </aside>

  <aside class="drawer" id="cartDrawer" role="dialog" aria-modal="true" aria-labelledby="cartDrawerTitle" hidden>
    <header class="drawer-header">
      <h2 id="cartDrawerTitle">Your bag</h2>
      <button class="drawer-close" data-drawer-close aria-label="Close cart">&times;</button>
    </header>

    <div class="cart-body">
      <!-- Empty state -->
      <div class="cart-empty" id="cartEmpty" hidden>
        <div class="bag-illus" aria-hidden="true">üõçÔ∏è</div>
        <h3>Your bag is empty</h3>
        <p class="sub">There are no products in your bag</p>
        <a class="btn-primary cart-cta" href="lookbook.html">Shop all products</a>
        <a class="muted-link cart-login" href="signin.html">Sign in to your account</a>
      </div>

      <!-- Populated state -->
      <div class="cart-has-items" id="cartHasItems" hidden>
        <ul class="cart-list" id="cartList" aria-label="Cart items"></ul>

        <div class="cart-summary">
          <div class="row">
            <span>Subtotal</span>
            <strong id="cartSubtotal">$0.00</strong>
          </div>
          <p class="tiny sub">Taxes and shipping calculated at checkout.</p>
          <div class="actions">
            <a class="btn-ghost" href="lookbook.html">Shop all products</a>
            <button class="btn-primary" id="checkoutBtn" disabled>Checkout</button>
          </div>
          <a class="muted-link cart-login" href="signin.html">Sign in to your account</a>
        </div>
      </div>
    </div>
  </aside>

  <footer class="footer">
    <div class="container" style="display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap">
      <small>¬© <span id="year"></span> LayaliFlow. All rights reserved.</small>
      <div style="display:flex;gap:14px">
        <a href="https://www.instagram.com/layali.flow/" target="_blank" rel="noreferrer" aria-label="Instagram">Instagram</a>
        <a href="mailto:flow.layali@gmail.com?subject=Inquiry%20from%20LayaliFlow%20Website" rel="noreferrer" aria-label="Email">flow.layali@gmail.com</a>
        <a href="privacy.html" aria-label="Privacy">Privacy</a>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // ---- Catalog (same filenames you already use) ----
    const catalog = [
      { title:'Turtleneck Hoodie', tag:'Hoodie', cat:'tops',
        desc:'Mid‚Äëthigh length with wide hood. Breathable, cozy coverage.',
        url:'hoodie.html', img:'images/hoodie.png' },
      { title:'Long‚Äësleeve Top', tag:'Training Top', cat:'tops',
        desc:'Loose fit with arm sleeves. Airy, stretch‚Äëfriendly comfort.',
        url:'long-sleeve-top.html', img:'images/long-sleeve-top.png' },
      { title:'Oversized Joggers', tag:'Joggers', cat:'bottoms',
        desc:'Wide‚Äëleg fit with top‚Äëopening pockets. Breathable, all‚Äëday wear.',
        url:'oversized-joggers.html', img:'images/oversized-joggers.png' },
      { title:'A‚ÄëLine Training Skirt‚ÄëPants', tag:'Skirt‚ÄëPants', cat:'bottoms',
        desc:'Flowy outer skirt with straight under‚Äëleggings. Breathable, squat‚Äëproof.',
        url:'skirt-pants.html', img:'images/skirt-pants.png' },
      // accessories later‚Ä¶
    ];

    // ---- Render helper ----
    const grid = document.getElementById('catalog-grid');
    const empty = document.getElementById('empty');

    function render(cat='all') {
      grid.innerHTML = '';
      const items = cat==='all' ? catalog : catalog.filter(p => p.cat===cat);
      empty.style.display = items.length ? 'none' : 'block';

      items.forEach(item => {
        const a = document.createElement('a');
        a.className = 'card';
        a.href = item.url;
        a.role = 'listitem';
        a.innerHTML = `
          <img class="media" src="${item.img}" alt="${item.title}">
          <div class="body">
            <div class="pill">${item.tag}</div>
            <h3 style="margin:8px 0 6px">${item.title}</h3>
            <p class="sub">${item.desc}</p>
          </div>`;
        grid.appendChild(a);
      });

      // pills active state
      document.querySelectorAll('#filters .pill').forEach(b => {
        b.style.background = (b.dataset.cat===cat || (cat==='all'&&b.dataset.cat==='all')) ? '#f0ebe2' : '';
        b.style.borderColor = (b.dataset.cat===cat || (cat==='all'&&b.dataset.cat==='all')) ? 'var(--accent-2)' : '';
      });
    }

    // ---- Read initial category from URL (?category=tops etc.) ----
    const params = new URLSearchParams(location.search);
    let currentCat = (params.get('category') || 'all').toLowerCase();
    if (!['all','tops','bottoms','accessories'].includes(currentCat)) currentCat='all';
    render(currentCat);

    // ---- Filter clicks ----
    document.querySelectorAll('#filters .pill').forEach(btn => {
      btn.addEventListener('click', () => {
        currentCat = btn.dataset.cat;
        render(currentCat);
        // Update URL (no page reload)
        const u = new URL(location.href);
        if (currentCat==='all') { u.searchParams.delete('category'); }
        else { u.searchParams.set('category', currentCat); }
        history.replaceState(null, '', u.toString());
      });
    });

    // ---- Drawers (same behavior as other pages) ----
    (function () {
      const backdrop = document.getElementById('drawerBackdrop');
      const drawers = {
        menu: { button: document.getElementById('menuBtn'), panel: document.getElementById('menuDrawer') },
        shop: { button: document.getElementById('shopBtn'), panel: document.getElementById('shopDrawer') }
      };
      function openDrawer(key) {
        const { button, panel } = drawers[key];
        Object.values(drawers).forEach(({panel:p}) => p.removeAttribute('open'));
        panel.hidden = false; backdrop.hidden = false;
        requestAnimationFrame(() => panel.setAttribute('open',''));
        button.setAttribute('aria-expanded','true');
        const first = panel.querySelector('a,button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])');
        setTimeout(() => (first ? first.focus() : panel.querySelector('[data-drawer-close]')?.focus()), 10);
      }
      function closeAll() {
        Object.values(drawers).forEach(({button, panel}) => {
          panel.removeAttribute('open'); button.setAttribute('aria-expanded','false');
          setTimeout(() => { panel.hidden = true; }, 200);
        });
        backdrop.hidden = true;
      }
      drawers.menu.button.addEventListener('click', () => openDrawer('menu'));
      drawers.shop.button.addEventListener('click', () => openDrawer('shop'));
      backdrop.addEventListener('click', closeAll);
      document.addEventListener('keydown', e => { if (e.key === 'Escape') closeAll(); });
      document.querySelectorAll('[data-drawer-close]').forEach(btn => btn.addEventListener('click', closeAll));
      document.querySelectorAll('.drawer a').forEach(a => a.addEventListener('click', closeAll));
    })();
  </script>
</body>
</html>
